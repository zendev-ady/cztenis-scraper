{
  "version": "6",
  "dialect": "sqlite",
  "id": "2246e309-3cbc-4c13-97c5-303a6d949981",
  "prevId": "99759ebe-b50e-4c1e-9589-119faa3cdad7",
  "tables": {
    "h2h_stats": {
      "name": "h2h_stats",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "player1_id": {
          "name": "player1_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "player2_id": {
          "name": "player2_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "total_matches": {
          "name": "total_matches",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "player1_wins": {
          "name": "player1_wins",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "player2_wins": {
          "name": "player2_wins",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "last_match_date": {
          "name": "last_match_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "first_match_date": {
          "name": "first_match_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_winner_id": {
          "name": "last_winner_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_score": {
          "name": "last_score",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_h2h_player1": {
          "name": "idx_h2h_player1",
          "columns": [
            "player1_id"
          ],
          "isUnique": false
        },
        "idx_h2h_player2": {
          "name": "idx_h2h_player2",
          "columns": [
            "player2_id"
          ],
          "isUnique": false
        },
        "h2h_stats_player1_id_player2_id_unique": {
          "name": "h2h_stats_player1_id_player2_id_unique",
          "columns": [
            "player1_id",
            "player2_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "h2h_stats_player1_id_players_id_fk": {
          "name": "h2h_stats_player1_id_players_id_fk",
          "tableFrom": "h2h_stats",
          "tableTo": "players",
          "columnsFrom": [
            "player1_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "h2h_stats_player2_id_players_id_fk": {
          "name": "h2h_stats_player2_id_players_id_fk",
          "tableFrom": "h2h_stats",
          "tableTo": "players",
          "columnsFrom": [
            "player2_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "h2h_stats_last_winner_id_players_id_fk": {
          "name": "h2h_stats_last_winner_id_players_id_fk",
          "tableFrom": "h2h_stats",
          "tableTo": "players",
          "columnsFrom": [
            "last_winner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "matches": {
      "name": "matches",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "tournament_id": {
          "name": "tournament_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "match_type": {
          "name": "match_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "competition_type": {
          "name": "competition_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "round": {
          "name": "round",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "round_order": {
          "name": "round_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "player1_id": {
          "name": "player1_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "player2_id": {
          "name": "player2_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "player1_partner_id": {
          "name": "player1_partner_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "player2_partner_id": {
          "name": "player2_partner_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "score": {
          "name": "score",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "score_set1": {
          "name": "score_set1",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "score_set2": {
          "name": "score_set2",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "score_set3": {
          "name": "score_set3",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_walkover": {
          "name": "is_walkover",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "winner_id": {
          "name": "winner_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "points_earned": {
          "name": "points_earned",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "match_date": {
          "name": "match_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "season_code": {
          "name": "season_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_matches_tournament": {
          "name": "idx_matches_tournament",
          "columns": [
            "tournament_id"
          ],
          "isUnique": false
        },
        "idx_matches_player1": {
          "name": "idx_matches_player1",
          "columns": [
            "player1_id"
          ],
          "isUnique": false
        },
        "idx_matches_player2": {
          "name": "idx_matches_player2",
          "columns": [
            "player2_id"
          ],
          "isUnique": false
        },
        "idx_matches_winner": {
          "name": "idx_matches_winner",
          "columns": [
            "winner_id"
          ],
          "isUnique": false
        },
        "idx_matches_date": {
          "name": "idx_matches_date",
          "columns": [
            "match_date"
          ],
          "isUnique": false
        },
        "idx_matches_season": {
          "name": "idx_matches_season",
          "columns": [
            "season_code"
          ],
          "isUnique": false
        },
        "idx_matches_type": {
          "name": "idx_matches_type",
          "columns": [
            "match_type",
            "competition_type"
          ],
          "isUnique": false
        },
        "matches_tournament_id_round_player1_id_player2_id_match_type_unique": {
          "name": "matches_tournament_id_round_player1_id_player2_id_match_type_unique",
          "columns": [
            "tournament_id",
            "round",
            "player1_id",
            "player2_id",
            "match_type"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "matches_tournament_id_tournaments_id_fk": {
          "name": "matches_tournament_id_tournaments_id_fk",
          "tableFrom": "matches",
          "tableTo": "tournaments",
          "columnsFrom": [
            "tournament_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "matches_player1_id_players_id_fk": {
          "name": "matches_player1_id_players_id_fk",
          "tableFrom": "matches",
          "tableTo": "players",
          "columnsFrom": [
            "player1_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "matches_player2_id_players_id_fk": {
          "name": "matches_player2_id_players_id_fk",
          "tableFrom": "matches",
          "tableTo": "players",
          "columnsFrom": [
            "player2_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "matches_player1_partner_id_players_id_fk": {
          "name": "matches_player1_partner_id_players_id_fk",
          "tableFrom": "matches",
          "tableTo": "players",
          "columnsFrom": [
            "player1_partner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "matches_player2_partner_id_players_id_fk": {
          "name": "matches_player2_partner_id_players_id_fk",
          "tableFrom": "matches",
          "tableTo": "players",
          "columnsFrom": [
            "player2_partner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "matches_winner_id_players_id_fk": {
          "name": "matches_winner_id_players_id_fk",
          "tableFrom": "matches",
          "tableTo": "players",
          "columnsFrom": [
            "winner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "matches_season_code_seasons_code_fk": {
          "name": "matches_season_code_seasons_code_fk",
          "tableFrom": "matches",
          "tableTo": "seasons",
          "columnsFrom": [
            "season_code"
          ],
          "columnsTo": [
            "code"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "player_rankings": {
      "name": "player_rankings",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "player_id": {
          "name": "player_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "season_code": {
          "name": "season_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "youth_junior_rank": {
          "name": "youth_junior_rank",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "youth_junior_bh": {
          "name": "youth_junior_bh",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "youth_senior_rank": {
          "name": "youth_senior_rank",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "youth_senior_bh": {
          "name": "youth_senior_bh",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "junior_rank": {
          "name": "junior_rank",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "junior_bh": {
          "name": "junior_bh",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "adult_rank": {
          "name": "adult_rank",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "adult_bh": {
          "name": "adult_bh",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "club": {
          "name": "club",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_rankings_player": {
          "name": "idx_rankings_player",
          "columns": [
            "player_id"
          ],
          "isUnique": false
        },
        "idx_rankings_season": {
          "name": "idx_rankings_season",
          "columns": [
            "season_code"
          ],
          "isUnique": false
        },
        "player_rankings_player_id_season_code_unique": {
          "name": "player_rankings_player_id_season_code_unique",
          "columns": [
            "player_id",
            "season_code"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "player_rankings_player_id_players_id_fk": {
          "name": "player_rankings_player_id_players_id_fk",
          "tableFrom": "player_rankings",
          "tableTo": "players",
          "columnsFrom": [
            "player_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "player_rankings_season_code_seasons_code_fk": {
          "name": "player_rankings_season_code_seasons_code_fk",
          "tableFrom": "player_rankings",
          "tableTo": "seasons",
          "columnsFrom": [
            "season_code"
          ],
          "columnsTo": [
            "code"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "players": {
      "name": "players",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "birth_year": {
          "name": "birth_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "current_club": {
          "name": "current_club",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "registration_valid_until": {
          "name": "registration_valid_until",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_scraped_at": {
          "name": "last_scraped_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_players_name": {
          "name": "idx_players_name",
          "columns": [
            "name"
          ],
          "isUnique": false
        },
        "idx_players_birth_year": {
          "name": "idx_players_birth_year",
          "columns": [
            "birth_year"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "scrape_queue": {
      "name": "scrape_queue",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "player_id": {
          "name": "player_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'pending'"
        },
        "attempts": {
          "name": "attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "last_attempt_at": {
          "name": "last_attempt_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "depth": {
          "name": "depth",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "source_player_id": {
          "name": "source_player_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_queue_status": {
          "name": "idx_queue_status",
          "columns": [
            "status",
            "priority"
          ],
          "isUnique": false
        },
        "scrape_queue_player_id_unique": {
          "name": "scrape_queue_player_id_unique",
          "columns": [
            "player_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "scrape_queue_player_id_players_id_fk": {
          "name": "scrape_queue_player_id_players_id_fk",
          "tableFrom": "scrape_queue",
          "tableTo": "players",
          "columnsFrom": [
            "player_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "scrape_queue_source_player_id_players_id_fk": {
          "name": "scrape_queue_source_player_id_players_id_fk",
          "tableFrom": "scrape_queue",
          "tableTo": "players",
          "columnsFrom": [
            "source_player_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "seasons": {
      "name": "seasons",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "start_date": {
          "name": "start_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "end_date": {
          "name": "end_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "season_type": {
          "name": "season_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "seasons_code_unique": {
          "name": "seasons_code_unique",
          "columns": [
            "code"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "tournaments": {
      "name": "tournaments",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "venue": {
          "name": "venue",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "date": {
          "name": "date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "category_points": {
          "name": "category_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "age_category": {
          "name": "age_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "season_code": {
          "name": "season_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "singles_capacity": {
          "name": "singles_capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "doubles_capacity": {
          "name": "doubles_capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_tournaments_date": {
          "name": "idx_tournaments_date",
          "columns": [
            "date"
          ],
          "isUnique": false
        },
        "idx_tournaments_season": {
          "name": "idx_tournaments_season",
          "columns": [
            "season_code"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "tournaments_season_code_seasons_code_fk": {
          "name": "tournaments_season_code_seasons_code_fk",
          "tableFrom": "tournaments",
          "tableTo": "seasons",
          "columnsFrom": [
            "season_code"
          ],
          "columnsTo": [
            "code"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    }
  },
  "views": {},
  "enums": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "indexes": {}
  }
}